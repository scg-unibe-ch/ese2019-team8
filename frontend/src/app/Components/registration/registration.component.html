<ion-app>
  <!--ToDo: Maybe add a Picture-->

  <ion-content class="ion-padding">
    <ion-title color="dark">
      Registration
    </ion-title>

    <ion-card>
      <ion-card-content>
        <ion-row>
          <ion-col>
            <ion-card-subtitle>General Information</ion-card-subtitle>
            <div class="registrationForm">
              <form [formGroup]="registrationForm">
                <ion-col>

                  <ion-item>
                    <ion-label position="stacked">Username
                      <ion-text color="danger">*</ion-text>
                    </ion-label>
                    <ion-input formControlName="username" name="username" required></ion-input>
                  </ion-item>
                  <div class="validation-errors">
                    <ng-container *ngFor="let validation of validationMessages.username">
                      <div *ngIf="registrationForm.get('username').hasError(validation.type) && (registrationForm.get('username').dirty || registrationForm.get('username').touched)"
                           class="error-message">
                        <ion-icon name="information-circle"></ion-icon>
                        {{ validation.message }}
                      </div>
                    </ng-container>
                  </div>

                  <div formGroupName="passwordChecker">
                    <ion-item>
                      <ion-label position="stacked">Password
                        <ion-text color="danger">*</ion-text>
                      </ion-label>
                      <ion-input formControlName="password" name="password" required type="password"></ion-input>
                    </ion-item>
                    <div class="validation-errors">
                      <ng-container *ngFor="let validation of validationMessages.password">
                        <div *ngIf="registrationForm.get('passwordChecker').get('password').hasError(validation.type) && (registrationForm.get('passwordChecker').get('password').dirty || registrationForm.get('passwordChecker').get('password').touched)"
                             class="error-message">
                          <ion-icon name="information-circle"></ion-icon>
                          {{ validation.message }}
                        </div>
                      </ng-container>
                    </div>

                    <ion-item>
                      <ion-label position="stacked">Confirm password
                      </ion-label>
                      <ion-input formControlName="passwordConfirmation" name="passwordConfirmation" required
                                 type="password"></ion-input>
                    </ion-item>
                    <div class="validation-errors">
                      <ng-container *ngFor="let validation of validationMessages.passwordConfirmation">
                        <div *ngIf="registrationForm.get('passwordChecker').get('passwordConfirmation').hasError(validation.type) && (registrationForm.get('passwordChecker').get('passwordConfirmation').dirty || registrationForm.get('passwordChecker').get('passwordConfirmation').touched)"
                             class="error-message">
                          <ion-icon name="information-circle"></ion-icon>
                          {{ validation.message }}
                        </div>
                      </ng-container>
                    </div>
                  </div>

                  <div class="validation-errors">
                    <ng-container *ngFor="let validation of validationMessages.passwordConfirmation">
                      <div *ngIf="registrationForm.get('passwordChecker').hasError(validation.type) && (registrationForm.get('passwordChecker').get('passwordConfirmation').dirty || registrationForm.get('passwordChecker').get('passwordConfirmation').touched)"
                           class="error-message">
                        <ion-icon name="information-circle"></ion-icon>
                        {{ validation.message }}
                      </div>
                    </ng-container>
                  </div>

                  <ion-item-divider class="ion-margin-top" color="dark" sticky="true">
                    <ion-label>
                      <ion-icon class="form-icon" name="people" slot="start"></ion-icon>

                    </ion-label>
                  </ion-item-divider>
                  <ion-card-subtitle>Proprietary Information</ion-card-subtitle>

                  <ion-item>
                    <ion-label position="stacked">Email</ion-label>
                    <ion-text color="danger">*</ion-text>
                    <ion-input formControlName="email" name="email" required type="email"></ion-input>
                  </ion-item>
                  <div class="validation-errors">
                    <ng-container *ngFor="let validation of validationMessages.email">
                      <div *ngIf="registrationForm.get('email').hasError(validation.type) && (registrationForm.get('email').dirty || registrationForm.get('email').touched)"
                           class="error-message">
                        <ion-icon name="information-circle"></ion-icon>
                        {{ validation.message }}
                      </div>
                    </ng-container>
                  </div>

                  <ion-item>
                    <ion-label position="stacked">Address</ion-label>
                    <ion-input formControlName="address" name="address" placeholder="Address Line 1"></ion-input>
                    <div class="validation-errors">
                      <ng-container *ngFor="let validation of validationMessages.address">
                        <div *ngIf="registrationForm.get('address').hasError(validation.type) && (registrationForm.get('address').dirty || registrationForm.get('address').touched)"
                             class="error-message">
                          <ion-icon name="information-circle"></ion-icon>
                          {{ validation.message }}
                        </div>
                      </ng-container>
                    </div>

                    <ion-input formControlName="zip" name="zip" placeholder="Zip Code"></ion-input>
                    <div class="validation-errors">
                      <ng-container *ngFor="let validation of validationMessages.zip">
                        <div *ngIf="registrationForm.get('zip').hasError(validation.type) && (registrationForm.get('zip').dirty || registrationForm.get('zip').touched)"
                             class="error-message">
                          <ion-icon name="information-circle"></ion-icon>
                          {{ validation.message }}
                        </div>
                      </ng-container>
                    </div>

                    <ion-input formControlName="city" name="city" placeholder="City"></ion-input>
                    <div class="validation-errors">
                      <ng-container *ngFor="let validation of validationMessages.city">
                        <div *ngIf="registrationForm.get('city').hasError(validation.type) && (registrationForm.get('city').dirty || registrationForm.get('city').touched)"
                             class="error-message">
                          <ion-icon name="information-circle"></ion-icon>
                          {{ validation.message }}
                        </div>
                      </ng-container>
                    </div>
                  </ion-item>
                  <ion-item>
                    <ion-label position="stacked">Phone</ion-label>
                    <ion-input formControlName="phoneNumber" name="phoneNumber"></ion-input>
                  </ion-item>
                  <div class="validation-errors">
                    <ng-container *ngFor="let validation of validationMessages.phoneNumber">
                      <div *ngIf="registrationForm.get('phoneNumber').hasError(validation.type) && (registrationForm.get('phoneNumber').dirty || registrationForm.get('phoneNumber').touched)"
                           class="error-message">
                        <ion-icon name="information-circle"></ion-icon>
                        {{ validation.message }}
                      </div>
                    </ng-container>
                  </div>
                  <!-- Checkbox for service Providers -->
                  <ion-item>
                    <ion-checkbox color="dark" formControlName="isServiceProvider" name="isServiceProvider"
                                  slot="start"></ion-checkbox>
                    <ion-label>Register as service provider</ion-label>
                  </ion-item>

                </ion-col>
              </form>
            </div>

            <!--Button-->
            <ion-col>
              <ion-button (click)="register()" [disabled]="!registrationForm.valid" class="submit-btn" color="olive">
                <ion-icon name="person-add" slot="start"></ion-icon>
                Create Account
              </ion-button>
              <ion-button [routerLink]="['/ProfilePage']" color="berry">
                Cancel
              </ion-button>
              <!--<ion-button (click)="reset()" color="light">
                <ion-icon slot="start" name="refresh"></ion-icon>
                Reset
              </ion-button>-->
            </ion-col>

          </ion-col>
        </ion-row>
      </ion-card-content>
    </ion-card>
  </ion-content>
</ion-app>
